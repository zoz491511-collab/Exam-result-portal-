<!--
Exam Result Portal (Single-file)
Filename: index.html

What's included:
- A single static HTML file that provides a search UI to check exam results by Roll Number, Name, or Class.
- The page will try to fetch /results.json from the same repo (recommended) and fall back to an embedded sample dataset.
- Admin can upload/replace the dataset using the "Upload results.json" file input (client-side only).

How to deploy (GitHub + Netlify):
1. Create a new GitHub repository (public or private).
2. Add this index.html to the repo root. (Optional) Add a results.json file to the repo root if you want to maintain the data separately.
3. Push the repo to GitHub.
4. Go to Netlify -> Sites -> "Add new site" -> "Import from Git" -> connect your GitHub account -> select the repo -> set "Build command" empty and "Publish directory" to "/" (or leave defaults for a plain static site) -> Deploy site.
5. Netlify will publish a URL. If you later update the repo, Netlify auto-deploys on push.

Notes on results.json format (example):
[
  {
    "roll": "1001",
    "name": "Asha Kumar",
    "class": "10A",
    "marks": { "Math": 88, "English": 76, "Science": 92 },
    "total": 256,
    "percentage": 85.33
  }
]

Security & scaling:
- This single-file solution is suitable for small schools or test scenarios with non-sensitive data. For large datasets or privacy requirements, use a backend (Firebase, Supabase, or a database + API) and protect access.

If you want, I can:
- Create a repository structure for you (multiple files) and provide exact git commands.
- Add CSV import, pagination, or print-ready result cards.
- Integrate with a simple serverless backend for authorized uploads.

-->

<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Exam Result Portal</title>
  <style>
    :root{font-family:Inter,system-ui,Segoe UI,Roboto,'Helvetica Neue',Arial;}
    body{margin:0;background:#f4f6fb;color:#111;display:flex;align-items:flex-start;justify-content:center;padding:28px}
    .card{width:980px;max-width:96%;background:white;border-radius:12px;padding:20px;box-shadow:0 6px 22px rgba(20,30,60,0.08)}
    h1{margin:0 0 8px;font-size:20px}
    .controls{display:flex;gap:8px;flex-wrap:wrap;margin:12px 0}
    input[type=text]{padding:10px;border-radius:8px;border:1px solid #d8e0ef;min-width:220px}
    button{padding:10px 12px;border-radius:8px;border:0;background:#2563eb;color:white;cursor:pointer}
    button.secondary{background:#64748b}
    .info{font-size:13px;color:#475569;margin-top:8px}
    table{width:100%;border-collapse:collapse;margin-top:14px}
    th,td{padding:8px;border-bottom:1px solid #eef2ff;text-align:left}
    th{background:#fbfbff}
    .no-results{padding:18px;text-align:center;color:#64748b}
    pre.sample{background:#0f172a;color:#fff;padding:12px;border-radius:8px;overflow:auto}
    .row-actions{display:flex;gap:8px}
    @media (max-width:640px){.controls{flex-direction:column}input[type=text]{width:100%}}
  </style>
</head>
<body>
  <div class="card">
    <h1>Exam Result Portal</h1>
    <div class="info">Search by Roll Number, Name, or choose a Class. Results are loaded from <code>/results.json</code> if present; otherwise the built-in sample data is used.</div>

    <div class="controls">
      <input id="q" type="text" placeholder="Enter roll number or student name" />
      <select id="classFilter"><option value="">All classes</option></select>
      <button id="searchBtn">Search</button>
      <button id="showAllBtn" class="secondary">Show all</button>
      <input id="fileInput" type="file" accept="application/json" />
      <button id="printBtn" class="secondary">Print Result</button>
    </div>

    <div id="resultArea"></div>

    <hr />
    <div style="font-size:13px;color:#475569">Admin: You can drop a <code>results.json</code> file in the repo root or use the file input to test locally. Format is an array of student objects (see top of this file for example).</div>
  </div>

  <script><script>
async function checkResult() {
  const rollInput = document.getElementById('roll').value.trim();
  const nameInput = document.getElementById('name').value.trim().toLowerCase();
  const outputDiv = document.getElementById('result');

  try {
    // Fetch the results.json file hosted on your site
    const response = await fetch('results.json');
    const data = await response.json();

    // Find the student by roll number and name
    const student = data.find(
      (s) => s.roll === rollInput && s.name.toLowerCase() === nameInput
    );

    if (student) {
      outputDiv.innerHTML = `
        <h3>Result Found ✅</h3>
        <p><strong>Name:</strong> ${student.name}</p>
        <p><strong>Roll No:</strong> ${student.roll}</p>
        <p><strong>Marks:</strong> ${student.marks}</p>
        <p><strong>Status:</strong> ${student.result}</p>
      `;
    } else {
      outputDiv.innerHTML = `<p style="color:red;">No result found ❌</p>`;
    }
  } catch (error) {
    outputDiv.innerHTML = `<p style="color:red;">Error fetching results. Check file connection.</p>`;
  }
}
